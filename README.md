# CPU-–æ–¥–æ–º–µ—Ç—Ä–∏—è —Å ¬´–≥–µ–π—Ç–æ–º —Å–∫–æ—Ä–æ—Å—Ç–∏"

–î–∞–Ω–Ω—ã–π Python-—Å–∫—Ä–∏–ø—Ç, —Ä–∞–∑–º–µ—â—ë–Ω–Ω—ã–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ [HellDiver830/odometry-py](https://github.com/HellDiver830/odometry-py), —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—É—é –æ–¥–æ–º–µ—Ç—Ä–∏—é –ø–æ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫—É —ç–∫—Ä–∞–Ω–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –≤—ã–±—Ä–æ—Å–æ–≤ –ø–æ –ø–æ—Ä–æ–≥—É –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ X‚ÄìZ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

* [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
* [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
* [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
* [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
* [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç](#–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)
* [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
* [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ–±–ª–∞—Å—Ç—å —ç–∫—Ä–∞–Ω–∞, –≤—ã—á–∏—Å–ª—è–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã (–æ–¥–æ–º–µ—Ç—Ä–∏—é) –Ω–∞ –æ—Å–Ω–æ–≤–µ ORB-–¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫, –∞ –∑–∞—Ç–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π. –î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –≤–≤–µ–¥–µ–Ω—ã –¥–≤–∞ —Ñ–∏–ª—å—Ç—Ä–∞:

1. **–ü–∞—Ä–∞–ª–ª–∞–∫—Å-—Ñ–∏–ª—å—Ç—Ä** ‚Äì –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–º–µ—â–µ–Ω–∏—è –º–µ–Ω—å—à–µ `2 px`, —Å—á–∏—Ç–∞—è –∫–∞–º–µ—Ä—É –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ–π.
2. **–°–∫–æ—Ä–æ—Å—Ç–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä** ‚Äì –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–∞–¥—Ä—ã, –≥–¥–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–∞–µ—Ç `2√ó` —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –∫–∞–¥—Ä–æ–≤.

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∏—Ç—Å—è —á–µ—Ä–µ–∑ Matplotlib —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∫–∞–∂–¥—ã—Ö 5 –∫–∞–¥—Ä–æ–≤.

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∑–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ `mss`.
* –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Ç—á–∏–Ω–≥ —Ç–æ—á–µ–∫ —Å –ø–æ–º–æ—â—å—é `cv2.ORB_create()` –∏ `BFMatcher`.
* –î–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ª–æ–∂–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π.
* –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –≤ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ X‚ÄìZ.
* –õ—ë–≥–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–º–µ—Ä—ã –∏ –æ–±–ª–∞—Å—Ç–∏ –∑–∞—Ö–≤–∞—Ç–∞.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.7+
* opencv-contrib-python==4.8.1.78
* numpy
* mss
* matplotlib

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install opencv-contrib-python==4.8.1.78 numpy mss matplotlib
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   ```

git clone [https://github.com/HellDiver830/odometry-py.git](https://github.com/HellDiver830/odometry-py.git)
cd odometry-py

````
2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`:
```bash
python -m venv venv
source venv/bin/activate  # macOS/Linux
venv\\Scripts\\activate # Windows
pip install -r requirements.txt
````

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞—Ö–≤–∞—Ç–∞ –∏ –∫–∞–º–µ—Ä—ã –≤ –Ω–∞—á–∞–ª–µ `main.py`:

   ```python
   REG = {"top": 0, "left": 0, "width": 640, "height": 360}
   FX = FY = 450.0
   CX, CY = REG["width"]/2, REG["height"]/2
   K = np.array([[FX,0,CX],[0,FY,CY],[0,0,1]], dtype=np.float64)
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

   ```bash
   ```

python main.py

```
3. –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C` –∏–ª–∏ –∑–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞** ‚Äì `mss` –ø–æ–ª—É—á–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º.
2. **ORB-–¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äì `cv2.ORB_create()` –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã.
3. **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** ‚Äì `BFMatcher` –∏—â–µ—Ç –ø–∞—Ä—ã –º–µ–∂–¥—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∫–∞–¥—Ä–∞–º–∏.
4. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è** ‚Äì `findEssentialMat()` –∏ `recoverPose()` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≤–æ—Ä–æ—Ç `R` –∏ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é `t`.
5. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
   - –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–¥—Ä—ã —Å –ø–∞—Ä–∞–ª–ª–∞–∫—Å–æ–º ‚â•2 px.
   - –°–∫–æ—Ä–æ—Å—Ç–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ –ø–∏–∫–∏.
6. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ–∑—ã** ‚Äì –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –°–ö.
7. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äì –∫–∞–∂–¥—ã–µ 5 –∫–∞–¥—Ä–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫ X‚ÄìZ.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

- **REG**: `top`, `left`, `width`, `height` –æ–±–ª–∞—Å—Ç–∏ –∑–∞—Ö–≤–∞—Ç–∞.
- **FX, FY, CX, CY**: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä—ã.
- **–ü–æ—Ä–æ–≥ –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞** –∏ **–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏** –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö –≤ –∫–æ–¥–µ.
- **–û–∫–Ω–æ —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ** –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ ‚Äî 30 –∫–∞–¥—Ä–æ–≤.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

```
