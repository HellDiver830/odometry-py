**CPU-–æ–¥–æ–º–µ—Ç—Ä–∏—è —Å ¬´–≥–µ–π—Ç–æ–º —Å–∫–æ—Ä–æ—Å—Ç–∏¬ª**

–î–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—É—é CPU-–æ–¥–æ–º–µ—Ç—Ä–∏—é –Ω–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–µ —ç–∫—Ä–∞–Ω–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –≤—ã–±—Ä–æ—Å–æ–≤ –ø–æ –ø–æ—Ä–æ–≥—É –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ X‚ÄìZ –∏ –µ—ë –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

* [–û–ø–∏—Å–∞–Ω–∏–µ](#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5)
* [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8)
* [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)
* [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0)
* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)
* [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç](#%D0%BA%D0%B0%D0%BA-%D1%8D%D1%82%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82)
* [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤](#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2)
* [–õ–∏—Ü–µ–Ω–∑–∏—è](#%D0%BB%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F)

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å —ç–∫—Ä–∞–Ω–∞, –≤—ã—á–∏—Å–ª—è–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã (–æ–¥–æ–º–µ—Ç—Ä–∏—é) –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫ ORB, –∞ –∑–∞—Ç–µ–º —Å—Ç—Ä–æ–∏—Ç —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. –î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –≤–≤–µ–¥–µ–Ω—ã –¥–≤–∞ —Ñ–∏–ª—å—Ç—Ä–∞:

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–∞—Ä–∞–ª–ª–∞–∫—Å—É** ‚Äì –µ—Å–ª–∏ —Å—Ä–µ–¥–Ω–µ–µ —Å–º–µ—â–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π (parallax) –º–µ–Ω—å—à–µ `2 px`, —Å—á–∏—Ç–∞–µ—Ç—Å—è, —á—Ç–æ –∫–∞–º–µ—Ä–∞ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ.
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏** ‚Äì –µ—Å–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–µ–≤—ã—à–∞–µ—Ç –≤ `2√ó` —Ç–µ–∫—É—â–µ–µ —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ (–∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –∫–∞–¥—Ä–æ–≤), —Ç–∞–∫–æ–π –∫–∞–¥—Ä –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –≤—ã–±—Ä–æ—Å.

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–¥—ë—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Matplotlib: –∫–∞–∂–¥—ã–π –ø—è—Ç—ã–π –∫–∞–¥—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏.

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* –ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ `mss` (–∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π).
* –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ —Å –ø–æ–º–æ—â—å—é ORB + BFMatcher.
* –î–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å–¥–≤–∏–≥–æ–≤.
* –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
* –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–º–µ—Ä—ã (K) –∏ –æ–±–ª–∞—Å—Ç–∏ –∑–∞—Ö–≤–∞—Ç–∞.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.7+
* OpenCV (contrib) 4.8.1.78
* NumPy
* mss
* Matplotlib

```bash
pip install opencv-contrib-python==4.8.1.78 numpy mss matplotlib
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   ```

git clone https://github.com/yourusername/your-repo](https://github.com/HellDiver830/odometry-py.git
cd your-repo

````
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\\Scripts\\activate  # Windows
pip install -r requirements.txt
````

> –í `requirements.txt` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
>
> ```text
> opencv-contrib-python==4.8.1.78
> numpy
> mss
> matplotlib
> ```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–±–ª–∞—Å—Ç—å –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä—ã –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞:

   ```python
   # –ü—Ä–∏–º–µ—Ä:
   REG = {"top": 0, "left": 0, "width": 640, "height": 360}
   FX = FY = 450.0
   CX, CY = REG["width"]/2, REG["height"]/2
   K = np.array([[FX,0,CX],[0,FY,CY],[0,0,1]], dtype=np.float64)
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

   ```bash
   python main.py
   ```

```
3. –î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C` –∏–ª–∏ –∑–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ Matplotlib.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ó–∞—Ö–≤–∞—Ç –∫–∞–¥—Ä–∞** ‚Äì `mss` –±–µ—Ä—ë—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
2. **ORB-–¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äì –º–µ—Ç–æ–¥ `cv2.ORB_create()` –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –∏ –æ–ø–∏—Å–∞—Ç–µ–ª–∏.
3. **–ú–∞—Ç—á–∏–Ω–≥** ‚Äì `BFMatcher` —Å—Ç—Ä–æ–∏—Ç –ø–∞—Ä—ã –º–µ–∂–¥—É –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∏ —Ç–µ–∫—É—â–∏–º –∫–∞–¥—Ä–æ–º.
4. **–≠—Å—Å–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞** ‚Äì `cv2.findEssentialMat()` –∏ `cv2.recoverPose()` –¥–∞—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç `R` –∏ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é `t`.
5. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
- –ï—Å–ª–∏ —Å—Ä–µ–¥–Ω–∏–π –ø–∞—Ä–∞–ª–ª–∞–∫—Å <2px ‚Üí –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ.
- –ï—Å–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å >2√ó —Å—Ä–µ–¥–Ω–µ–µ –∑–∞ 30 –∫–∞–¥—Ä–æ–≤ ‚Üí —Å—á–∏—Ç–∞–µ–º –≤—ã–±—Ä–æ—Å.
6. **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –ø–æ–∑—ã** ‚Äì –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º `R` –∏ `t` –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
7. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äì –∫–∞–∂–¥—ã–µ 5 –∫–∞–¥—Ä–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ –æ—Å—è–º X‚ÄìZ.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

- `REG` ‚Äì —Å–ª–æ–≤–∞—Ä—å —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –æ–±–ª–∞—Å—Ç–∏ –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞ (top, left, width, height).
- `FX, FY, CX, CY` ‚Äì –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä—ã (—Ñ–æ–∫—É—Å–Ω—ã–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ —Ü–µ–Ω—Ç—Ä –ø—Ä–æ–µ–∫—Ü–∏–∏).
- –ü–æ—Ä–æ–≥ –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ (`2 px`) –∏ –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (`2√ó`) –∂—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω—ã, –Ω–æ –ª–µ–≥–∫–æ –º–µ–Ω—è—é—Ç—Å—è –≤ –∫–æ–¥–µ.
- –û–∫–Ω–æ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç 30 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

---



```
